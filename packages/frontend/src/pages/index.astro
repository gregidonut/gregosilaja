---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/headerWrapper/HeaderWrapper.astro";
import Main from "@/components/main/Main.astro";
import Footer from "@/components/footer/Footer.astro";

import type { DialogSet } from "@/utils";
import DynamicDialog from "./dynamicDialog/_DynamicDialogWrapper.tsx";
import TechFigures from "./techFigures/_TechFigures.astro";

import ghPic from "@/assets/my_pic.png";
import ghPicSleezy from "@/assets/my_pic_sleezy.png";
import ghPicStartled from "@/assets/my_pic_startled.png";
import ghPicThinking from "@/assets/my_pic_thinking.png";

import styles from "./_main.module.css";
import flexMainStyles from "@/components/main/flexMain.module.css";

const myPics: DialogSet = [
    {
        src: ghPic.src,
        alt: "gh pic base",
        dialog: "",
    },
    {
        src: ghPicStartled.src,
        alt: "gh pic startled",
        dialog: "yikes! someone's here! i gotta think of something cool to say",
    },
    {
        src: ghPicThinking.src,
        alt: "gh pic thinking",
        dialog: "hmmm....",
    },
    {
        src: ghPicSleezy.src,
        alt: "gh pic sleezy",
        dialog: "got it!",
    },
];
---

<Layout
    description="A personal blog and portfolio showcasing my projects, technical insights, and journey in software development."
>
    <Header />
    <Main class={flexMainStyles.flexMain}>
        <section class={styles.topSection}>
            <DynamicDialog dSet={myPics} client:load />
            <h1>Greg Osilaja</h1>
        </section>
        <article class={styles.article}>
            <TechFigures />
        </article>
        <section class={styles.ghCharts}>
            <div class={styles.ghContribs}>
                <img
                    src="https://ghchart.rshah.org/gregidonut"
                    alt="gregidonut gh chart"
                    loading="lazy"
                    decoding="async"
                />
            </div>
            <img
                src="https://github-readme-stats.vercel.app/api/top-langs/?username=gregidonut&layout=donut&show_icons=true&theme=dark"
                alt="most used langs chart"
                loading="lazy"
                decoding="async"
            />
        </section>
    </Main>
    <Footer />
</Layout>
